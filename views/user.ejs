<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Profile</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
            crossorigin="anonymous"
        />
        <link
            href="https://fonts.googleapis.com/css2?family=Rubik:wght@300&display=swap"
            rel="stylesheet"
        />

        <link rel="stylesheet" href="./style.css" />
        <style>
            body {
                background-color: rgb(247, 247, 247);
            }
            .add-cart {
                border: none;
                font-size: 1.1rem;
                color: white;
                background-color: rgb(209, 110, 8);
                padding: 0.25em 0.5em;
                border-radius: 5px;
            }
            .user-actions {
                display: flex;
                gap: 15px;
                justify-content: center;
                align-items: center;
            }
            .cart {
                position: relative;
                background-color: transparent;
                cursor: pointer;
            }
            .cart-quantity {
                display: flex;
                justify-content: center;
                align-items: center;
                position: absolute;
                top: -17px;
                left: -13px;
                width: 25px;
                height: 25px;

                border-radius: 10px;
                color: wheat;

                background-color: rgb(24, 24, 24);
            }
            .profile {
                width: 40px;
                height: 40px;
                border-radius: 50%;
            }

            .main-container {
                max-width: 1100px;
                margin: 40px auto;
                gap: 20px;

                display: flex;
            }

            .left-container {
                width: 40%;
                max-width: 300px;

                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;

                border-right: 1px solid rgb(88, 88, 88);

                gap: 10px;
            }

            .user-img {
                width: 120px;
            }

            .user-name {
                font-size: 1.3rem;
                font-weight: bold;
            }
            .user-info {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;

                gap: 5px;
            }

            h3 {
                font-weight: bold;
                font-size: 1.4rem;
                margin-bottom: 20px;
            }

            /* ======= order ========== */
            .order-container {
                display: flex;
                gap: 20px;

                flex-wrap: wrap;
            }
            .order {
                display: flex;
                align-items: center;
                border: 2px solid rgb(90, 90, 90);
                min-width: 200px;

                background-color: rgb(35, 35, 35);

                border-radius: 5px;

                padding: 10px;
                transition: 0.15s ease-in-out;
            }

            .order:hover {
                background-color: rgb(95, 95, 95);
                cursor: pointer;
            }
            .left {
                display: flex;
                flex-direction: column;
            }

            .detail {
                font-size: 1rem;
                font-weight: bold;
                color: rgb(231, 231, 231);
            }

            .price,
            .date {
                font-size: 0.9rem;
                color: rgb(190, 190, 190);
            }
            .right {
                display: flex;
                flex-direction: column;
                align-items: stretch;
            }
            .right a {
                background-color: rgb(255, 153, 0);
                color: white;
                /* padding: 0.25em 0.5em; */

                height: 100%;

                /* align-self: stretch; */
            }
        </style>
    </head>
    <body>
        <%- include('partials/nav') %>
        <div class="main-container">
            <div class="left-container">
                <img src="/images/user.png" alt="" class="user-img" />
                <span class="user-name">Ritik Raj</span>
                <div class="user-info">
                    <span>üè∑Ô∏è <%= currentUser.username %></span>
                    <span>‚úâÔ∏è <%= currentUser.email %></span>
                </div>
            </div>
            <div class="right-container">
                <h3>Previous Orders</h3>
                <div class="order-container">
                    <% for(let order of orders) { %>
                    <a class="order" href="/user/<%= order.id %>">
                        <div class="left">
                            <span class="detail"
                                ><%= order.items.length %> Medicines</span
                            >
                            <span class="price"
                                >Total price: <%= order.total.toFixed(2) %>
                                Rs</span
                            >
                            <span class="date"
                                >Placed on: <%= order.formattedDate %></span
                            >
                        </div>
                    </a>
                    <% } %>
                </div>
            </div>
        </div>
    </body>
</html>
